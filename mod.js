// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./mod.d.ts" />
var r="function"==typeof Object.defineProperty?Object.defineProperty:null;var t,e=Object.defineProperty,o=Object.prototype,n=o.toString,a=o.__defineGetter__,l=o.__defineSetter__,u=o.__lookupGetter__,f=o.__lookupSetter__;t=function(){try{return r({},"x",{}),!0}catch(r){return!1}}()?e:function(r,t,e){var i,c,y,p;if("object"!=typeof r||null===r||"[object Array]"===n.call(r))throw new TypeError("invalid argument. First argument must be an object. Value: `"+r+"`.");if("object"!=typeof e||null===e||"[object Array]"===n.call(e))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+e+"`.");if((c="value"in e)&&(u.call(r,t)||f.call(r,t)?(i=r.__proto__,r.__proto__=o,delete r[t],r[t]=e.value,r.__proto__=i):r[t]=e.value),y="get"in e,p="set"in e,c&&(y||p))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return y&&a&&a.call(r,t,e.get),p&&l&&l.call(r,t,e.set),r};var i=t;var c="function"==typeof Math.fround?Math.fround:null;var y="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");var p=Object.prototype.toString;var v=Object.prototype.hasOwnProperty;var _,b="function"==typeof Symbol?Symbol.toStringTag:"";_=y&&"symbol"==typeof Symbol.toStringTag?function(r){var t,e,o,n,a;if(null==r)return p.call(r);e=r[b],a=b,t=null!=(n=r)&&v.call(n,a);try{r[b]=void 0}catch(t){return p.call(r)}return o=p.call(r),t?r[b]=e:delete r[b],o}:function(r){return p.call(r)};var d=_,m="function"==typeof Float32Array;var s=Number.POSITIVE_INFINITY,N="function"==typeof Float32Array?Float32Array:null;var g,j="function"==typeof Float32Array?Float32Array:void 0;g=function(){var r,t,e;if("function"!=typeof N)return!1;try{t=new N([1,3.14,-3.14,5e40]),e=t,r=(m&&e instanceof Float32Array||"[object Float32Array]"===d(e))&&1===t[0]&&3.140000104904175===t[1]&&-3.140000104904175===t[2]&&t[3]===s}catch(t){r=!1}return r}()?j:function(){throw new Error("not implemented")};var w=new g(1);var h="function"==typeof c?c:function(r){return w[0]=r,w[0]},S=Math.floor;function A(r,t,e,o,n){var a,l,u,f,i,c,y,p,v,_,b,d,m,s;if(a=n,r<8){for(b=0,d=0,s=0;s<r;s++)(m=e[a])==m&&(b=h(b+m),d+=1),a+=o;return t[0]=h(t[0]+b),t[1]+=d,t}if(r<=128){for(l=0,u=0,f=0,i=0,c=0,y=0,p=0,v=0,d=0,_=r%8,s=0;s<r-_;s+=8)(m=e[a])==m&&(l=h(l+m),d+=1),(m=e[a+=o])==m&&(u=h(u+m),d+=1),(m=e[a+=o])==m&&(f=h(f+m),d+=1),(m=e[a+=o])==m&&(i=h(i+m),d+=1),(m=e[a+=o])==m&&(c=h(c+m),d+=1),(m=e[a+=o])==m&&(y=h(y+m),d+=1),(m=e[a+=o])==m&&(p=h(p+m),d+=1),(m=e[a+=o])==m&&(v=h(v+m),d+=1),a+=o;for(b=h(h(h(l+u)+h(f+i))+h(h(c+y)+h(p+v)));s<r;s++)(m=e[a])==m&&(b=h(b+m),d+=1),a+=o;return t[0]=h(t[0]+b),t[1]+=d,t}return d=S(r/2),h(A(d-=d%8,t,e,o,a)+A(r-d,t,e,o,a+d*o))}var F=[0,0];function O(r,t,e,o){var n,a,l,u,f,i,c,y,p;if(r<=0)return NaN;if(1===r||0===o)return(c=e[0])==c&&r-t>0?0:NaN;if(a=o<0?(1-r)*o:0,F[0]=0,F[1]=0,A(r,F,e,o,a),(u=(y=F[1])-t)<=0)return NaN;for(n=h(F[0]/y),l=0,f=0,p=0;p<r;p++)(c=e[a])==c&&(i=h(c-n),l=h(l+h(i*i)),f=h(f+i),y+=1),a+=o;return h(h(l/u)-h(h(f/y)*h(f/u)))}var P=[0,0];function T(r,t,e,o,n){var a,l,u,f,i,c,y,p,v;if(r<=0)return NaN;if(1===r||0===o)return(y=e[n])==y&&r-t>0?0:NaN;if(l=n,P[0]=0,P[1]=0,A(r,P,e,o,l),(f=(p=P[1])-t)<=0)return NaN;for(a=h(P[0]/p),u=0,i=0,v=0;v<r;v++)(y=e[l])==y&&(c=h(y-a),u=h(u+h(c*c)),i=h(i+c),p+=1),l+=o;return h(h(u/f)-h(h(i/p)*h(i/f)))}i(O,"ndarray",{configurable:!1,enumerable:!1,writable:!1,value:T});export{O as default,T as ndarray};
//# sourceMappingURL=mod.js.map
